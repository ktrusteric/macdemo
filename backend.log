INFO:     Will watch for changes in these directories: ['/Users/eric/Documents/GitHub/macdemo/backend']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [2925] using StatReload
INFO:     Started server process [2928]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Successfully connected to MongoDB
INFO:     127.0.0.1:54530 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54572 - "OPTIONS /api/v1/users/f79dc1ae-8660-407c-9b30-ff61db4913b0/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:54573 - "OPTIONS /api/v1/users/f79dc1ae-8660-407c-9b30-ff61db4913b0/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:54575 - "OPTIONS /api/v1/content?page=1&page_size=100&content_type= HTTP/1.1" 200 OK
INFO:     127.0.0.1:54577 - "OPTIONS /api/v1/content/?page=1&page_size=100&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.users:ğŸ·ï¸ è·å–ç”¨æˆ·æ ‡ç­¾ - user_id: f79dc1ae-8660-407c-9b30-ff61db4913b0
INFO:app.api.users:ğŸ” æŸ¥è¯¢ç”¨æˆ·æ ‡ç­¾...
INFO:     127.0.0.1:54577 - "GET /api/v1/content?page=1&page_size=100&content_type= HTTP/1.1" 307 Temporary Redirect
INFO:app.api.content:ğŸ“‹ å†…å®¹åˆ—è¡¨APIè°ƒç”¨ - page=1, page_size=100, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:ğŸ“„ åˆ†é¡µè®¡ç®— - skip=0, limit=100
INFO:app.api.content:ğŸ“š åˆ—è¡¨æ¨¡å¼ - sort_by=latest
ğŸ“Š å†…å®¹åˆ†ç±»ç»Ÿè®¡:
INFO:     127.0.0.1:54577 - "OPTIONS /api/v1/content/?page=1&page_size=100&content_type= HTTP/1.1" 200 OK
INFO:app.api.users:âœ… ç”¨æˆ·æ ‡ç­¾è·å–æˆåŠŸ - æ ‡ç­¾æ•°é‡: 4
INFO:app.api.users:ğŸ“Š æ ‡ç­¾ç»Ÿè®¡: {'city': 1, 'province': 1, 'region': 1, 'energy_type': 1}
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾1: city:ä¸Šæµ· (æƒé‡:2.5, æ¥æº:preset)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾2: province:ä¸Šæµ·å¸‚ (æƒé‡:2.0, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾3: region:åä¸œåœ°åŒº (æƒé‡:1.5, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾4: energy_type:å¤©ç„¶æ°” (æƒé‡:2.0, æ¥æº:preset)
  ğŸ“ˆ è¡Œæƒ…å’¨è¯¢ (è¡Œä¸šèµ„è®¯): 26ç¯‡
  ğŸ“‹ æ”¿ç­–æ³•è§„ (æ”¿ç­–æ³•è§„): 20ç¯‡
  ğŸ“¢ äº¤æ˜“å…¬å‘Š (äº¤æ˜“å…¬å‘Š): 3ç¯‡
  ğŸ’° è°ƒä»·å…¬å‘Š (è°ƒä»·å…¬å‘Š): 2ç¯‡
  ğŸ“Š æ€»å…¬å‘Šæ•°: 5ç¯‡
  ğŸ“š æ€»æ–‡ç« æ•°: 51ç¯‡
  ğŸ·ï¸ æŒ‰typeç»Ÿè®¡: {'policy': 20, 'news': 26, 'price': 2, 'announcement': 3}
INFO:     127.0.0.1:54575 - "GET /api/v1/users/f79dc1ae-8660-407c-9b30-ff61db4913b0/tags HTTP/1.1" 200 OK
INFO:app.api.content:ğŸ“‹ å†…å®¹åˆ—è¡¨APIè°ƒç”¨ - page=1, page_size=100, content_type=, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:ğŸ“„ åˆ†é¡µè®¡ç®— - skip=0, limit=100
INFO:app.api.content:ğŸ“š åˆ—è¡¨æ¨¡å¼ - sort_by=latest
INFO:app.api.users:ğŸ·ï¸ è·å–ç”¨æˆ·æ ‡ç­¾ - user_id: f79dc1ae-8660-407c-9b30-ff61db4913b0
INFO:app.api.users:ğŸ” æŸ¥è¯¢ç”¨æˆ·æ ‡ç­¾...
INFO:app.api.content:âœ… è·å–å†…å®¹æˆåŠŸ - è¿”å›51æ¡å†…å®¹
INFO:app.api.content:ğŸ“„ å†…å®¹1: æ–°å¥¥è‚¡ä»½é‡å¤§èµ„äº§é‡ç»„è·è‚¡ä¸œå¤§ä¼šè¶…99.9%é«˜ç¥¨é€šè¿‡ï¼Œå¤©ç„¶æ°”äº§ä¸šé“¾ä¸€ä½“åŒ–æˆ˜ç•¥å–å¾—å…³é”®è¿›å±•... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹2: ä¸­å›½çŸ³æ²¹å‘å¸ƒ3000äº¿å‚æ•°æ˜†ä»‘å¤§æ¨¡å‹... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹3: å¯†é›†æŠ•äº§æ½®ä¸‹åˆ©ç”¨ç‡ä¸è¶³50%ï¼ŒLNGæ¥æ”¶ç«™å¸‚åœºç«äº‰åŠ å‰§ï¼Œå¦‚ä½•ä¿éšœæ•ˆç›Š... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.users:âœ… ç”¨æˆ·æ ‡ç­¾è·å–æˆåŠŸ - æ ‡ç­¾æ•°é‡: 4
INFO:app.api.users:ğŸ“Š æ ‡ç­¾ç»Ÿè®¡: {'city': 1, 'province': 1, 'region': 1, 'energy_type': 1}
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾1: city:ä¸Šæµ· (æƒé‡:2.5, æ¥æº:preset)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾2: province:ä¸Šæµ·å¸‚ (æƒé‡:2.0, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾3: region:åä¸œåœ°åŒº (æƒé‡:1.5, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾4: energy_type:å¤©ç„¶æ°” (æƒé‡:2.0, æ¥æº:preset)
ğŸ“Š å†…å®¹åˆ†ç±»ç»Ÿè®¡:
  ğŸ“ˆ è¡Œæƒ…å’¨è¯¢ (è¡Œä¸šèµ„è®¯): 26ç¯‡
  ğŸ“‹ æ”¿ç­–æ³•è§„ (æ”¿ç­–æ³•è§„): 20ç¯‡
  ğŸ“¢ äº¤æ˜“å…¬å‘Š (äº¤æ˜“å…¬å‘Š): 3ç¯‡
  ğŸ’° è°ƒä»·å…¬å‘Š (è°ƒä»·å…¬å‘Š): 2ç¯‡
  ğŸ“Š æ€»å…¬å‘Šæ•°: 5ç¯‡
  ğŸ“š æ€»æ–‡ç« æ•°: 51ç¯‡
  ğŸ·ï¸ æŒ‰typeç»Ÿè®¡: {'policy': 20, 'news': 26, 'price': 2, 'announcement': 3}
INFO:     127.0.0.1:54575 - "GET /api/v1/users/f79dc1ae-8660-407c-9b30-ff61db4913b0/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:54579 - "OPTIONS /api/v1/users/091903a6-f135-47d9-8b2f-ff1cf7e31f38/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:54581 - "OPTIONS /api/v1/users/provinces-with-cities HTTP/1.1" 200 OK
INFO:     127.0.0.1:54575 - "OPTIONS /api/v1/content/recommend HTTP/1.1" 200 OK
INFO:app.api.content:âœ… è·å–å†…å®¹æˆåŠŸ - è¿”å›51æ¡å†…å®¹
INFO:app.api.content:ğŸ“„ å†…å®¹1: æ–°å¥¥è‚¡ä»½é‡å¤§èµ„äº§é‡ç»„è·è‚¡ä¸œå¤§ä¼šè¶…99.9%é«˜ç¥¨é€šè¿‡ï¼Œå¤©ç„¶æ°”äº§ä¸šé“¾ä¸€ä½“åŒ–æˆ˜ç•¥å–å¾—å…³é”®è¿›å±•... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹2: ä¸­å›½çŸ³æ²¹å‘å¸ƒ3000äº¿å‚æ•°æ˜†ä»‘å¤§æ¨¡å‹... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹3: å¯†é›†æŠ•äº§æ½®ä¸‹åˆ©ç”¨ç‡ä¸è¶³50%ï¼ŒLNGæ¥æ”¶ç«™å¸‚åœºç«äº‰åŠ å‰§ï¼Œå¦‚ä½•ä¿éšœæ•ˆç›Š... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.users:ğŸ·ï¸ è·å–ç”¨æˆ·æ ‡ç­¾ - user_id: 091903a6-f135-47d9-8b2f-ff1cf7e31f38
INFO:app.api.users:ğŸ” æŸ¥è¯¢ç”¨æˆ·æ ‡ç­¾...
INFO:     127.0.0.1:54579 - "GET /api/v1/users/provinces-with-cities HTTP/1.1" 200 OK
INFO:app.api.content:ğŸ¯ å†…å®¹æ¨èAPIè°ƒç”¨ - request: {'user_tags': ['region:åä¸œåœ°åŒº', 'energy_type:å¤©ç„¶æ°”'], 'limit': 6}
INFO:app.api.content:ğŸ·ï¸ ç”¨æˆ·æ ‡ç­¾: ['region:åä¸œåœ°åŒº', 'energy_type:å¤©ç„¶æ°”']
INFO:app.api.content:ğŸ“Š æ¨èæ•°é‡é™åˆ¶: 6
INFO:app.api.content:ğŸ“‹ è§£ææ ‡ç­¾åˆ†ç±»:
INFO:app.api.content:  basic_info_tags: []
INFO:app.api.content:  region_tags: ['åä¸œåœ°åŒº']
INFO:app.api.content:  energy_type_tags: ['å¤©ç„¶æ°”']
INFO:app.api.content:  business_field_tags: []
INFO:app.api.content:  beneficiary_tags: []
INFO:app.api.content:  policy_measure_tags: []
INFO:app.api.content:  importance_tags: []
INFO:app.api.content:ğŸ¯ ç”¨æˆ·æ— basic_infoæ ‡ç­¾ï¼Œæä¾›å¤šæ ·åŒ–å†…å®¹æ¨è
WARNING:app.api.users:âš ï¸ ç”¨æˆ·æ ‡ç­¾ä¸å­˜åœ¨ï¼Œåˆ›å»ºé»˜è®¤æ ‡ç­¾ - user_id: 091903a6-f135-47d9-8b2f-ff1cf7e31f38
INFO:app.api.users:âœ… ç”¨æˆ·æ ‡ç­¾è·å–æˆåŠŸ - æ ‡ç­¾æ•°é‡: 0
INFO:app.api.users:ğŸ“Š æ ‡ç­¾ç»Ÿè®¡: {}
INFO:     127.0.0.1:54581 - "GET /api/v1/users/091903a6-f135-47d9-8b2f-ff1cf7e31f38/tags HTTP/1.1" 200 OK
INFO:app.api.content:ğŸ“Š æ€»æ•°ç»Ÿè®¡ - total_count=51
INFO:app.api.content:ğŸ¯ APIè°ƒç”¨å®Œæˆ - è¿”å›å“åº”: items=51, total=51, has_next=False
INFO:     127.0.0.1:54573 - "GET /api/v1/content/?page=1&page_size=100&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.content:ğŸ“Š æ€»æ•°ç»Ÿè®¡ - total_count=51
INFO:app.api.content:ğŸ¯ APIè°ƒç”¨å®Œæˆ - è¿”å›å“åº”: items=51, total=51, has_next=False
INFO:     127.0.0.1:54572 - "GET /api/v1/content/?page=1&page_size=100&content_type= HTTP/1.1" 200 OK
INFO:app.api.content:  ğŸ“„ è¡Œä¸šèµ„è®¯: 1æ¡
INFO:app.api.content:  ğŸ“„ æ”¿ç­–æ³•è§„: 1æ¡
INFO:app.api.content:  ğŸ“„ äº¤æ˜“å…¬å‘Š: 1æ¡
INFO:app.api.content:  ğŸ“„ è°ƒä»·å…¬å‘Š: 1æ¡
INFO:app.api.content:âœ… å¤šæ ·åŒ–æ¨èå®Œæˆ - è¿”å›6æ¡å†…å®¹
INFO:app.api.content:ğŸ“„ æ¨èå†…å®¹1: å¯†é›†æŠ•äº§æ½®ä¸‹åˆ©ç”¨ç‡ä¸è¶³50%ï¼ŒLNGæ¥æ”¶ç«™å¸‚åœºç«äº‰åŠ å‰§ï¼Œå¦‚ä½•ä¿éšœæ•ˆç›Š...
INFO:app.api.content:   ç±»å‹: ContentType.NEWS
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ æ¨èå†…å®¹2: æ–°å¥¥è‚¡ä»½é‡å¤§èµ„äº§é‡ç»„è·è‚¡ä¸œå¤§ä¼šè¶…99.9%é«˜ç¥¨é€šè¿‡ï¼Œå¤©ç„¶æ°”äº§ä¸šé“¾ä¸€ä½“åŒ–æˆ˜ç•¥å–å¾—å…³é”®è¿›å±•...
INFO:app.api.content:   ç±»å‹: ContentType.NEWS
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ æ¨èå†…å®¹3: æ–°å¥¥è‚¡ä»½é‡å¤§èµ„äº§é‡ç»„è·è‚¡ä¸œå¤§ä¼šè¶…99.9%é«˜ç¥¨é€šè¿‡ï¼Œå¤©ç„¶æ°”äº§ä¸šé“¾ä¸€ä½“åŒ–æˆ˜ç•¥å–å¾—å…³é”®è¿›å±•...
INFO:app.api.content:   ç±»å‹: ContentType.NEWS
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:     127.0.0.1:54577 - "POST /api/v1/content/recommend HTTP/1.1" 200 OK
INFO:app.api.users:ğŸ·ï¸ è·å–ç”¨æˆ·æ ‡ç­¾ - user_id: f79dc1ae-8660-407c-9b30-ff61db4913b0
INFO:app.api.users:ğŸ” æŸ¥è¯¢ç”¨æˆ·æ ‡ç­¾...
INFO:     127.0.0.1:54572 - "OPTIONS /api/v1/users/provinces-with-cities HTTP/1.1" 200 OK
INFO:app.api.users:âœ… ç”¨æˆ·æ ‡ç­¾è·å–æˆåŠŸ - æ ‡ç­¾æ•°é‡: 4
INFO:app.api.users:ğŸ“Š æ ‡ç­¾ç»Ÿè®¡: {'city': 1, 'province': 1, 'region': 1, 'energy_type': 1}
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾1: city:ä¸Šæµ· (æƒé‡:2.5, æ¥æº:preset)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾2: province:ä¸Šæµ·å¸‚ (æƒé‡:2.0, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾3: region:åä¸œåœ°åŒº (æƒé‡:1.5, æ¥æº:region_auto)
INFO:app.api.users:ğŸ·ï¸ æ ‡ç­¾4: energy_type:å¤©ç„¶æ°” (æƒé‡:2.0, æ¥æº:preset)
INFO:     127.0.0.1:54577 - "GET /api/v1/users/f79dc1ae-8660-407c-9b30-ff61db4913b0/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:54572 - "GET /api/v1/users/provinces-with-cities HTTP/1.1" 200 OK
INFO:app.api.content:ğŸ“‹ å†…å®¹åˆ—è¡¨APIè°ƒç”¨ - page=1, page_size=100, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:ğŸ“„ åˆ†é¡µè®¡ç®— - skip=0, limit=100
INFO:app.api.content:ğŸ“š åˆ—è¡¨æ¨¡å¼ - sort_by=latest
INFO:app.api.content:âœ… è·å–å†…å®¹æˆåŠŸ - è¿”å›51æ¡å†…å®¹
INFO:app.api.content:ğŸ“„ å†…å®¹1: æ–°å¥¥è‚¡ä»½é‡å¤§èµ„äº§é‡ç»„è·è‚¡ä¸œå¤§ä¼šè¶…99.9%é«˜ç¥¨é€šè¿‡ï¼Œå¤©ç„¶æ°”äº§ä¸šé“¾ä¸€ä½“åŒ–æˆ˜ç•¥å–å¾—å…³é”®è¿›å±•... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹2: ä¸­å›½çŸ³æ²¹å‘å¸ƒ3000äº¿å‚æ•°æ˜†ä»‘å¤§æ¨¡å‹... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“„ å†…å®¹3: å¯†é›†æŠ•äº§æ½®ä¸‹åˆ©ç”¨ç‡ä¸è¶³50%ï¼ŒLNGæ¥æ”¶ç«™å¸‚åœºç«äº‰åŠ å‰§ï¼Œå¦‚ä½•ä¿éšœæ•ˆç›Š... (ç±»å‹: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['è¡Œä¸šèµ„è®¯']
INFO:app.api.content:   region_tags: ['ä¸­å›½', 'å…¨å›½']
INFO:app.api.content:ğŸ“Š æ€»æ•°ç»Ÿè®¡ - total_count=51
INFO:app.api.content:ğŸ¯ APIè°ƒç”¨å®Œæˆ - è¿”å›å“åº”: items=51, total=51, has_next=False
ğŸ“Š å†…å®¹åˆ†ç±»ç»Ÿè®¡:
  ğŸ“ˆ è¡Œæƒ…å’¨è¯¢ (è¡Œä¸šèµ„è®¯): 26ç¯‡
  ğŸ“‹ æ”¿ç­–æ³•è§„ (æ”¿ç­–æ³•è§„): 20ç¯‡
  ğŸ“¢ äº¤æ˜“å…¬å‘Š (äº¤æ˜“å…¬å‘Š): 3ç¯‡
  ğŸ’° è°ƒä»·å…¬å‘Š (è°ƒä»·å…¬å‘Š): 2ç¯‡
  ğŸ“Š æ€»å…¬å‘Šæ•°: 5ç¯‡
  ğŸ“š æ€»æ–‡ç« æ•°: 51ç¯‡
  ğŸ·ï¸ æŒ‰typeç»Ÿè®¡: {'policy': 20, 'news': 26, 'price': 2, 'announcement': 3}
INFO:     127.0.0.1:54572 - "GET /api/v1/content/?page=1&page_size=100&sort_by=latest HTTP/1.1" 200 OK
