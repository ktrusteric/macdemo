INFO:     Will watch for changes in these directories: ['/Users/eric/Documents/GitHub/macdemo/backend']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [32603] using StatReload
INFO:     Started server process [32606]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Successfully connected to MongoDB
INFO:     127.0.0.1:58364 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58378 - "OPTIONS /api/v1/users/login HTTP/1.1" 200 OK
INFO:app.api.users:🔐 用户登录尝试 - email: zhang@newenergy.com
INFO:app.api.users:🔍 验证用户凭证...
WARNING:passlib.handlers.bcrypt:(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:app.api.users:✅ 用户验证成功 - user_id: 44229cfe-3da5-4702-b0a2-18b2d103f310, username: 张先生
INFO:app.api.users:🎫 访问令牌创建成功 - 有效期: 30分钟
INFO:     127.0.0.1:58378 - "POST /api/v1/users/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:58378 - "OPTIONS /api/v1/content/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:58380 - "OPTIONS /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58386 - "OPTIONS /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58388 - "OPTIONS /api/v1/content/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:58390 - "OPTIONS /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58391 - "OPTIONS /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58378 - "GET /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:58378 - "GET /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:58378 - "GET /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:58378 - "GET /api/v1/content?page=1&page_size=10&sort_by=latest HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:58380 - "GET /api/v1/content/tags HTTP/1.1" 200 OK
INFO:     127.0.0.1:58391 - "OPTIONS /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58380 - "OPTIONS /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58390 - "OPTIONS /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58388 - "OPTIONS /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.content:📋 内容列表API调用 - page=1, page_size=10, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:📄 分页计算 - skip=0, limit=10
INFO:app.api.content:📚 列表模式 - sort_by=latest
INFO:     127.0.0.1:58378 - "GET /api/v1/content/tags HTTP/1.1" 200 OK
INFO:app.api.content:✅ 获取内容成功 - 返回10条内容
INFO:app.api.content:📄 内容1: 世界燃气大会首次落地中国 各方代表共商绿色发展合作未来... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容2: 国家能源局副局长万劲松：天然气产业链各环节发展取得历史性成就... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容3: 欧盟拟立法全面禁止进口俄气... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📊 总数统计 - total_count=45
INFO:app.api.content:🎯 API调用完成 - 返回响应: items=10, total=45, has_next=True
INFO:     127.0.0.1:58391 - "GET /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.content:📋 内容列表API调用 - page=1, page_size=10, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:📄 分页计算 - skip=0, limit=10
INFO:app.api.content:📚 列表模式 - sort_by=latest
INFO:app.api.content:✅ 获取内容成功 - 返回10条内容
INFO:app.api.content:📄 内容1: 世界燃气大会首次落地中国 各方代表共商绿色发展合作未来... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容2: 国家能源局副局长万劲松：天然气产业链各环节发展取得历史性成就... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容3: 欧盟拟立法全面禁止进口俄气... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📊 总数统计 - total_count=45
INFO:app.api.content:🎯 API调用完成 - 返回响应: items=10, total=45, has_next=True
INFO:     127.0.0.1:58378 - "GET /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.content:📋 内容列表API调用 - page=1, page_size=10, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:📄 分页计算 - skip=0, limit=10
INFO:app.api.content:📚 列表模式 - sort_by=latest
INFO:app.api.content:✅ 获取内容成功 - 返回10条内容
INFO:app.api.content:📄 内容1: 世界燃气大会首次落地中国 各方代表共商绿色发展合作未来... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容2: 国家能源局副局长万劲松：天然气产业链各环节发展取得历史性成就... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容3: 欧盟拟立法全面禁止进口俄气... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📊 总数统计 - total_count=45
INFO:app.api.content:🎯 API调用完成 - 返回响应: items=10, total=45, has_next=True
INFO:     127.0.0.1:58391 - "GET /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:app.api.content:📋 内容列表API调用 - page=1, page_size=10, content_type=None, tag_filters=None, sort_by=latest, search_keyword=None
INFO:app.api.content:📄 分页计算 - skip=0, limit=10
INFO:app.api.content:📚 列表模式 - sort_by=latest
INFO:app.api.content:✅ 获取内容成功 - 返回10条内容
INFO:app.api.content:📄 内容1: 世界燃气大会首次落地中国 各方代表共商绿色发展合作未来... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容2: 国家能源局副局长万劲松：天然气产业链各环节发展取得历史性成就... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📄 内容3: 欧盟拟立法全面禁止进口俄气... (类型: ContentType.NEWS)
INFO:app.api.content:   basic_info_tags: ['行业资讯']
INFO:app.api.content:   region_tags: ['中国', '国际']
INFO:app.api.content:📊 总数统计 - total_count=45
INFO:app.api.content:🎯 API调用完成 - 返回响应: items=10, total=45, has_next=True
INFO:     127.0.0.1:58378 - "GET /api/v1/content/?page=1&page_size=10&sort_by=latest HTTP/1.1" 200 OK
INFO:     127.0.0.1:58419 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58419 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58430 - "GET /api/v1/users/cities-details HTTP/1.1" 200 OK
INFO:     127.0.0.1:58431 - "GET /api/v1/users/cities-details HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58427 - "GET / HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [32606]
