# 能源交易一体化系统 - 演示指南

## 系统概述

能源交易一体化系统是一个专为能源行业设计的信息服务平台，整合了天然气资讯、实时报价、成交数据、研究报告和市场指数，并集成了AI助手功能，为用户提供一站式能源交易信息服务。

## 演示环境访问

### 1. 访问地址
- **主页**: http://你的服务器IP:5000
- **系统状态**: http://你的服务器IP:5000/pages/status.html
- **用户注册**: http://你的服务器IP:5000/pages/register.html
- **用户登录**: http://你的服务器IP:5000/pages/login.html
- **用户控制台**: http://你的服务器IP:5000/pages/dashboard.html

### 2. API健康检查
- **健康检查**: http://你的服务器IP:5000/health

## 演示功能

### 1. 首页体验
- **功能展示**: 查看系统核心功能介绍
- **AI助手体验**: 
  - 选择身份（可选择预设企业用户或普通用户）
  - 点击"体验客服助手"、"体验资讯助手"、"体验交易助手"
  - AI助手将在新窗口中打开，支持用户标签功能

### 2. 用户注册和登录
- **注册流程**:
  - 填写基本信息（用户名、密码、邮箱）
  - 选择注册地区和希望交易的品种
  - 系统自动生成用户标签
- **登录功能**:
  - 使用注册的用户名和密码登录
  - 系统返回JWT令牌用于身份验证

### 3. 系统状态监控
- **实时状态**: 查看API服务、数据库连接状态
- **数据统计**: 显示系统中的资讯、价格、报告、成交数据统计
- **最新数据**: 预览最新的资讯和价格信息
- **API测试**: 一键测试所有API端点

### 4. 用户控制台
- **个人信息**: 查看和管理用户基本信息
- **个性化推荐**: 基于用户标签的内容推荐
- **数据查询**: 浏览资讯、价格、成交、研报、指数数据
- **AI助手集成**: 三个AI助手无缝集成

## 数据展示

### 1. 知识库数据
系统已导入真实的知识库数据，包括：
- **规章制度**: 天然气质量标准、交易规范等
- **交易指引**: 各类交易产品的操作指南
- **服务指南**: 用户服务相关文档
- **政策法规**: 国家能源政策、地方价格通知等

### 2. 示例数据
- **资讯数据**: 5条示例新闻
- **价格数据**: 84条各地区各品种价格数据
- **成交数据**: 3条成交记录
- **研报数据**: 3份研究报告
- **指数数据**: 14条市场指数数据

## AI助手功能

### 1. 客服助手
- **ID**: 9714d9bc-31ca-40b5-a720-4329f5fc4af7
- **功能**: 账户问题咨询、功能使用指导、投诉建议处理

### 2. 资讯助手
- **ID**: 158ab70e-2996-4cce-9822-6f8195a7cfa5
- **功能**: 热点新闻推送、行业动态分析、政策解读服务

### 3. 交易助手
- **ID**: 1e72acc1-43a8-4cda-8d54-f409c9c5d5ed
- **功能**: 价格走势分析、交易机会提醒、风险评估建议

### 4. 用户标签功能
预设企业用户：
- 中国石化天然气分公司华南天然气销售中心
- 华港燃气集团有限公司

AI助手会根据用户标签提供个性化服务。

## 技术架构

### 1. 后端技术栈
- **Python 3.10+**
- **Flask 2.3.3** - Web框架
- **MongoDB** - 数据存储
- **PyMongo** - MongoDB驱动
- **JWT** - 身份验证
- **bcrypt** - 密码加密

### 2. 前端技术栈
- **HTML5 + CSS3 + JavaScript**
- **Bootstrap 5.1.3** - UI框架
- **Font Awesome 4.7.0** - 图标库

### 3. 数据库设计
- **用户集合**: 存储用户信息、标签、行为数据
- **资讯集合**: 存储新闻资讯数据
- **价格集合**: 存储实时价格数据
- **成交集合**: 存储交易成交数据
- **研报集合**: 存储研究报告数据
- **指数集合**: 存储市场指数数据

## 演示脚本

### 1. 系统启动演示
```bash
# 启动系统
cd energy-trading-system
./start.sh

# 检查服务状态
curl http://localhost:5000/health
```

### 2. 功能演示流程
1. **访问首页** - 展示系统概览和功能特色
2. **体验AI助手** - 选择身份，打开各类AI助手
3. **查看系统状态** - 监控服务运行状态和数据统计
4. **用户注册** - 演示用户注册流程
5. **用户登录** - 演示登录和权限验证
6. **数据查询** - 展示各类数据查询功能
7. **个性化推荐** - 基于用户标签的推荐系统

### 3. API测试演示
```bash
# 健康检查
curl http://localhost:5000/health

# 获取地区列表
curl http://localhost:5000/api/auth/regions

# 获取资讯数据
curl http://localhost:5000/api/energy/news?limit=5

# 获取最新价格
curl http://localhost:5000/api/energy/prices/latest
```

## 部署说明

### 1. 环境要求
- Python 3.10+
- MongoDB 4.0+
- 4GB+ 内存
- 10GB+ 磁盘空间

### 2. 快速启动
```bash
# 克隆项目
git clone <repository>
cd energy-trading-system

# 启动系统（包含环境检查、依赖安装、数据初始化）
chmod +x start.sh
./start.sh
```

### 3. 手动启动
```bash
# 安装依赖
pip3 install -r requirements.txt

# 启动MongoDB
mongod --dbpath database/ --port 27017

# 初始化数据
cd backend
python3 init_data.py
python3 import_knowledge_base.py

# 启动Web服务
python3 app.py
```

## 故障排除

### 1. 常见问题
- **MongoDB连接失败**: 检查MongoDB服务是否启动
- **端口占用**: 检查5000端口是否被占用
- **依赖缺失**: 运行 `pip3 install -r requirements.txt`

### 2. 日志查看
```bash
# 查看应用日志
tail -f backend/app.log

# 查看MongoDB日志
tail -f database/mongodb.log
```

## 演示要点

### 1. 核心亮点
- **一站式信息服务**: 整合多种能源数据
- **智能化AI助手**: 支持用户标签的个性化服务
- **实时数据更新**: 展示动态数据流
- **用户行为分析**: 基于标签的推荐系统
- **现代化界面**: 响应式设计，用户体验友好

### 2. 技术特色
- **RESTful API设计**: 标准化接口
- **模块化架构**: 清晰的代码组织
- **数据驱动**: 基于真实知识库数据
- **安全认证**: JWT令牌认证
- **错误处理**: 完善的异常处理机制

### 3. 商业价值
- **降低信息获取成本**: 一站式信息聚合
- **提高决策效率**: AI辅助分析
- **个性化服务**: 基于企业标签的定制服务
- **数据价值挖掘**: 用户行为分析和推荐

---

**注意**: 这是一个演示系统，用于展示功能和架构设计。在生产环境中，需要进一步优化性能、安全性和稳定性。 